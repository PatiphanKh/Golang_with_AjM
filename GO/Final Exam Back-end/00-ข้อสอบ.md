# ข้อสอบ Back-end Application (Web API) ระบบขายสินค้า
 
## ข้อบังคับของ Application

1. พัฒนาแอปพลิเคชันด้วย Go, จัดการข้อมูลโดยใช้ Gorm และสร้าง Web API โดยใช้ GIN
2. การออกแบบถูกต้อง เหมาะสม ตามหลักของ Restful API
3. อนุญาติให้ใช้ AI ช่วยเขียน Code ได้

4. **ใช้ฐานข้อมูล (Database Server) ที่กำหนดให้เท่านั้น**
5. **ใช้โครงสร้างฐานข้อมูลตามที่กำหนด ให้เท่านั้น**
6. **จำลองข้อมูลให้ทุกตารางมีข้อมูลมากกว่า 10 เรคคอร์ด**

## การส่งงาน
- Zip โฟร์เดอร์ Obsidian นี้ส่งใน Classroom ก่อนเวลาที่กำหนด (ระบบไม่รับส่งช้า)
- อธิบายการเรียกใช้งาน API ทุกเส้นในแต่ละสถานการณ์ที่กำหนด 
	- อธิบายการว่า UI ฝั่ง Front-End มีลำดับเรียกเส้น API ใดบ้าง  และ ส่ง/รับ ข้อมูลอะไร
- ภาพตัวอย่างการเรียก API ประกอบด้วย Route, HTTP Method, Data In, Data Out ของ API
	- Thunder Client แนวตั้ง
- ส่ง GitHub URL แบบ Public ของแอปพลิเคชันที่สร้างขึ้น
## ตัวอย่างโจทย์สถานการณ์จำลอง เช่น 

- ลูกค้าดึงข้อมูลที่นั่งว่างในโรงหนังในรอบที่ต้องการขึ้นมา จากนั้นลูกค้าเลือกที่นั่งที่ต้องการ (เลือกได้มากกว่า 1 ที่) เมื่อลูกค้าเลือกแล้วระบบส่งข้อมูลที่นั่งที่เลือกให้ระบบบันทึกข้อมูลการจองสำหรับลูกค้าคนนั้น
## ระบบฐานข้อมูล 

- Database Server: 202.28.34.197
- Port: 3306
- PhpMyAdmin: [http://202.28.34.197/myadmin](http://202.28.34.197/myadmin)
- Username: cp_*รหัสนิสิต*
- Password: *รหัสนิสิต*@csmsu
- Database Name: cp_*รหัสนิสิต*

## DDL Script

```sql
-- Customer Table
CREATE TABLE customer (
    customer_id INT AUTO_INCREMENT PRIMARY KEY,
    first_name VARCHAR(255) NOT NULL,
    last_name VARCHAR(255) NOT NULL,
    email VARCHAR(255) UNIQUE NOT NULL,
    phone_number VARCHAR(20),
    address VARCHAR(255),
    password VARCHAR(255) NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

-- Product Table
CREATE TABLE product (
    product_id INT AUTO_INCREMENT PRIMARY KEY,
    product_name VARCHAR(255) NOT NULL,
    description TEXT,
    price DECIMAL(10, 2) NOT NULL,
    stock_quantity INT NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

-- Cart Table
CREATE TABLE cart (
    cart_id INT AUTO_INCREMENT PRIMARY KEY,
    customer_id INT NOT NULL,
    cart_name VARCHAR(255), -- Added cart_name field
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (customer_id) REFERENCES customer(customer_id)
);

-- Cart Item Table
CREATE TABLE cart_item (
    cart_item_id INT AUTO_INCREMENT PRIMARY KEY,
    cart_id INT NOT NULL,
    product_id INT NOT NULL,
    quantity INT NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (cart_id) REFERENCES cart(cart_id),
    FOREIGN KEY (product_id) REFERENCES product(product_id)
);
```

## Database Diagram

**![](https://lh7-rt.googleusercontent.com/docsz/AD_4nXf1GJzHAPlfOzkLSi2_eZ4DjrqJPoywUW4-8a9cWKxjbaQ19C2XOog1Iz7KlbkF-AzBHuxAEM3QCMhhLSY34C_6l-gt7pwZYg-cUK4QjFco9yNpb9Zc7AGhA4E0yBqgJUBBLpKZ1g?key=MnPKy4DSeOL0Hw0BX87D1dnI)**